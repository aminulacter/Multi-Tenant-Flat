import{d as N,q as S,r as v,y as b,z as q,j as r,b as F,e as s,u as g,h as I,A as O,g as B,k as u,i as l,v as i,n as f,t as m,x as h,F as c,s as z,m as P,o as d}from"./app-C1gjP-sn.js";import{_ as H}from"./_plugin-vue_export-helper-DlAUqK2U.js";const T={class:"min-h-screen bg-gray-50 py-12"},j={class:"max-w-2xl mx-auto sm:px-6 lg:px-8"},A={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},D={class:"p-6 text-gray-900"},E={class:"space-y-4"},M={key:0,class:"mt-1 text-sm text-red-600"},R={key:0,class:"mt-1 text-sm text-red-600"},Z={key:0,class:"mt-1 text-sm text-red-600"},L=["value"],G={key:0,class:"mt-1 text-sm text-red-600"},J={key:0,class:"space-y-4 border-t pt-6"},K={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Q={class:"md:col-span-2"},W={key:1,class:"space-y-4 border-t pt-6"},X={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Y={class:"md:col-span-2"},$=["value"],ee={class:"md:col-span-2"},se={class:"flex items-center justify-end space-x-3 pt-6 border-t"},te=["disabled"],oe={key:0},ae={key:1},re=N({__name:"create",setup(de){const w=S(),y=w.props.roles||[],V=w.props.houseOwners||[],t=v({name:"",email:"",password:"",password_confirmation:"",role_id:null,house_owner:{name:"",email:"",address:"",city:"",state:"",zip:""},tenant:{name:"",email:"",address:"",city:"",zip:"",house_owner_id:null}}),a=v({}),p=v(!1),x=b(()=>y.find(n=>n.id==t.value.role_id)),_=b(()=>x.value?.name==="House Owner"),k=b(()=>x.value?.name==="Tenant");q(()=>t.value.role_id,(n,e)=>{n!==e&&(t.value.house_owner={name:"",email:"",address:"",city:"",zip:""},t.value.tenant={name:"",email:"",address:"",city:"",zip:"",house_owner_id:null})});const U=async()=>{p.value=!0,a.value={};try{const n={name:t.value.name,email:t.value.email,password:t.value.password,password_confirmation:t.value.password_confirmation,role_id:t.value.role_id};_.value?n.house_owner={name:t.value.name,email:t.value.email,address:t.value.house_owner.address,city:t.value.house_owner.city,zip:t.value.house_owner.zip}:k.value&&(n.tenant={name:t.value.name,email:t.value.email,address:t.value.tenant.address,city:t.value.tenant.city,zip:t.value.tenant.zip,house_owner_id:t.value.tenant.house_owner_id}),await P.post("/users",n,{onError:e=>{a.value=e},onSuccess:()=>{}})}catch(n){console.error("Form submission error:",n)}finally{p.value=!1}},C=()=>{t.value={name:"",email:"",password:"",password_confirmation:"",role_id:null,house_owner:{name:"",email:"",address:"",city:"",zip:""},tenant:{name:"",email:"",address:"",city:"",zip:"",house_owner_id:null}},a.value={}};return(n,e)=>(d(),r(c,null,[F(g(I),{title:"Create User"}),s("div",T,[s("div",j,[s("div",A,[s("div",D,[e[31]||(e[31]=O('<div class="mb-6" data-v-3cbed0b4><div class="flex justify-between items-center px-4 py-2" data-v-3cbed0b4><h2 class="text-2xl font-bold text-gray-900" data-v-3cbed0b4>Create New User</h2><a class="bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded-md transition-colors" href="/users" data-v-3cbed0b4>Back</a></div><p class="mt-1 text-sm text-gray-600" data-v-3cbed0b4>Fill in the details to create a new user account.</p></div>',1)),s("form",{onSubmit:B(U,["prevent"]),class:"space-y-6"},[s("div",E,[e[18]||(e[18]=s("h3",{class:"text-lg font-medium text-gray-900"},"Basic Information",-1)),s("div",null,[e[12]||(e[12]=s("label",{for:"name",class:"block text-sm font-medium text-gray-700"},"Name *",-1)),l(s("input",{id:"name","onUpdate:modelValue":e[0]||(e[0]=o=>t.value.name=o),type:"text",required:"",class:f(["mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",{"border-red-300":a.value.name}])},null,2),[[i,t.value.name]]),a.value.name?(d(),r("p",M,m(a.value.name),1)):u("",!0)]),s("div",null,[e[13]||(e[13]=s("label",{for:"email",class:"block text-sm font-medium text-gray-700"},"Email *",-1)),l(s("input",{id:"email","onUpdate:modelValue":e[1]||(e[1]=o=>t.value.email=o),type:"email",required:"",class:f(["mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",{"border-red-300":a.value.email}])},null,2),[[i,t.value.email]]),a.value.email?(d(),r("p",R,m(a.value.email),1)):u("",!0)]),s("div",null,[e[14]||(e[14]=s("label",{for:"password",class:"block text-sm font-medium text-gray-700"},"Password *",-1)),l(s("input",{id:"password","onUpdate:modelValue":e[2]||(e[2]=o=>t.value.password=o),type:"password",required:"",class:f(["mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",{"border-red-300":a.value.password}])},null,2),[[i,t.value.password]]),a.value.password?(d(),r("p",Z,m(a.value.password),1)):u("",!0)]),s("div",null,[e[15]||(e[15]=s("label",{for:"password_confirmation",class:"block text-sm font-medium text-gray-700"},"Confirm Password *",-1)),l(s("input",{id:"password_confirmation","onUpdate:modelValue":e[3]||(e[3]=o=>t.value.password_confirmation=o),type:"password",required:"",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[i,t.value.password_confirmation]])]),s("div",null,[e[17]||(e[17]=s("label",{for:"role_id",class:"block text-sm font-medium text-gray-700"},"Role *",-1)),l(s("select",{id:"role_id","onUpdate:modelValue":e[4]||(e[4]=o=>t.value.role_id=o),required:"",class:f(["mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",{"border-red-300":a.value.role_id}])},[e[16]||(e[16]=s("option",{value:""},"Select a role",-1)),(d(!0),r(c,null,z(g(y),o=>(d(),r("option",{key:o.id,value:o.id},m(o.name),9,L))),128))],2),[[h,t.value.role_id]]),a.value.role_id?(d(),r("p",G,m(a.value.role_id),1)):u("",!0)])]),_.value?(d(),r("div",J,[e[22]||(e[22]=s("h3",{class:"text-lg font-medium text-gray-900"},"House Owner Information",-1)),e[23]||(e[23]=s("p",{class:"text-sm text-gray-600"},"Name and email will be taken from the basic information above.",-1)),s("div",K,[s("div",Q,[e[19]||(e[19]=s("label",{for:"house_owner_address",class:"block text-sm font-medium text-gray-700"},"Address",-1)),l(s("input",{id:"house_owner_address","onUpdate:modelValue":e[5]||(e[5]=o=>t.value.house_owner.address=o),type:"text",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[i,t.value.house_owner.address]])]),s("div",null,[e[20]||(e[20]=s("label",{for:"house_owner_city",class:"block text-sm font-medium text-gray-700"},"City",-1)),l(s("input",{id:"house_owner_city","onUpdate:modelValue":e[6]||(e[6]=o=>t.value.house_owner.city=o),type:"text",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[i,t.value.house_owner.city]])]),s("div",null,[e[21]||(e[21]=s("label",{for:"house_owner_zip",class:"block text-sm font-medium text-gray-700"},"ZIP Code",-1)),l(s("input",{id:"house_owner_zip","onUpdate:modelValue":e[7]||(e[7]=o=>t.value.house_owner.zip=o),type:"text",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[i,t.value.house_owner.zip]])])])])):u("",!0),k.value?(d(),r("div",W,[e[29]||(e[29]=s("h3",{class:"text-lg font-medium text-gray-900"},"Tenant Information",-1)),e[30]||(e[30]=s("p",{class:"text-sm text-gray-600"},"Name and email will be taken from the basic information above.",-1)),s("div",X,[s("div",Y,[e[25]||(e[25]=s("label",{for:"tenant_house_owner",class:"block text-sm font-medium text-gray-700"},"House Owner",-1)),l(s("select",{id:"tenant_house_owner","onUpdate:modelValue":e[8]||(e[8]=o=>t.value.tenant.house_owner_id=o),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},[e[24]||(e[24]=s("option",{value:""},"Select a house owner (optional)",-1)),(d(!0),r(c,null,z(g(V),o=>(d(),r("option",{key:o.id,value:o.id},m(o.name||o.user.name),9,$))),128))],512),[[h,t.value.tenant.house_owner_id]])]),s("div",ee,[e[26]||(e[26]=s("label",{for:"tenant_address",class:"block text-sm font-medium text-gray-700"},"Address",-1)),l(s("input",{id:"tenant_address","onUpdate:modelValue":e[9]||(e[9]=o=>t.value.tenant.address=o),type:"text",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[i,t.value.tenant.address]])]),s("div",null,[e[27]||(e[27]=s("label",{for:"tenant_city",class:"block text-sm font-medium text-gray-700"},"City",-1)),l(s("input",{id:"tenant_city","onUpdate:modelValue":e[10]||(e[10]=o=>t.value.tenant.city=o),type:"text",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[i,t.value.tenant.city]])]),s("div",null,[e[28]||(e[28]=s("label",{for:"tenant_zip",class:"block text-sm font-medium text-gray-700"},"ZIP Code",-1)),l(s("input",{id:"tenant_zip","onUpdate:modelValue":e[11]||(e[11]=o=>t.value.tenant.zip=o),type:"text",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},null,512),[[i,t.value.tenant.zip]])])])])):u("",!0),s("div",se,[s("button",{type:"button",onClick:C,class:"inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"}," Reset "),s("button",{type:"submit",disabled:p.value,class:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed"},[p.value?(d(),r("span",oe,"Creating...")):(d(),r("span",ae,"Create User"))],8,te)])],32)])])])])],64))}}),ie=H(re,[["__scopeId","data-v-3cbed0b4"]]);export{ie as default};
