import{d as p,p as V,c as b,w as r,D as $,J as g,u as t,o as f,j as h,n as A,r as N,b as a,e as u,f as c,I as P,q as S,h as j,k as E,T as H,i as L,G as O}from"./app-C1gjP-sn.js";import{q as D}from"./index-DUMdsY2H.js";import{f as R,D as U,g as z,_ as G}from"./AppLayout.vue_vue_type_script_setup_true_lang-BxnW7pDE.js";import{a as Q,_ as J}from"./Layout.vue_vue_type_script_setup_true_lang-D1EW53ll.js";import{_ as x}from"./InputError.vue_vue_type_script_setup_true_lang-nbs7Oh3x.js";import{P as M,c as W,_ as v}from"./AppLogoIcon.vue_vue_type_script_setup_true_lang-lqOkEa73.js";import{_ as K,a as X,b as Y,c as Z,d as ee}from"./DialogTitle.vue_vue_type_script_setup_true_lang-CdhUjg7Z.js";import{a as te}from"./useForwardExpose-BdW8TFuC.js";import{u as ae}from"./RovingFocusGroup-CNXrAHiD.js";import{_ as k}from"./Input.vue_vue_type_script_setup_true_lang-DbCUPFsV.js";import{_ as C}from"./Label.vue_vue_type_script_setup_true_lang-BZEWZXAl.js";import"./VisuallyHidden-COE-oCfJ.js";import"./useArrowNavigation-C6Y-ieo6.js";import"./createLucideIcon-DiNYG7n8.js";import"./index-D29CaElT.js";import"./index-8z4_NH2p.js";var se=p({__name:"DialogTrigger",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(e){const d=e,o=R(),{forwardRef:s,currentElement:y}=te();return o.contentId||=ae(void 0,"reka-dialog-content"),V(()=>{o.triggerElement.value=y.value}),(n,_)=>(f(),b(t(M),g(d,{ref:t(s),type:n.as==="button"?"button":void 0,"aria-haspopup":"dialog","aria-expanded":t(o).open.value||!1,"aria-controls":t(o).open.value?t(o).contentId:void 0,"data-state":t(o).open.value?"open":"closed",onClick:t(o).onOpenToggle}),{default:r(()=>[$(n.$slots,"default")]),_:3},16,["type","aria-expanded","aria-controls","data-state","onClick"]))}}),re=se;const l=e=>({url:l.url(e),method:"get"});l.definition={methods:["get","head"],url:"/settings/profile"};l.url=e=>l.definition.url+D(e);l.get=e=>({url:l.url(e),method:"get"});l.head=e=>({url:l.url(e),method:"head"});const q=e=>({action:l.url(e),method:"get"});q.get=e=>({action:l.url(e),method:"get"});q.head=e=>({action:l.url({[e?.mergeQuery?"mergeQuery":"query"]:{_method:"HEAD",...e?.query??e?.mergeQuery??{}}}),method:"get"});l.form=q;const i=e=>({url:i.url(e),method:"patch"});i.definition={methods:["patch"],url:"/settings/profile"};i.url=e=>i.definition.url+D(e);i.patch=e=>({url:i.url(e),method:"patch"});const T=e=>({action:i.url({[e?.mergeQuery?"mergeQuery":"query"]:{_method:"PATCH",...e?.query??e?.mergeQuery??{}}}),method:"post"});T.patch=e=>({action:i.url({[e?.mergeQuery?"mergeQuery":"query"]:{_method:"PATCH",...e?.query??e?.mergeQuery??{}}}),method:"post"});i.form=T;const m=e=>({url:m.url(e),method:"delete"});m.definition={methods:["delete"],url:"/settings/profile"};m.url=e=>m.definition.url+D(e);m.delete=e=>({url:m.url(e),method:"delete"});const B=e=>({action:m.url({[e?.mergeQuery?"mergeQuery":"query"]:{_method:"DELETE",...e?.query??e?.mergeQuery??{}}}),method:"post"});B.delete=e=>({action:m.url({[e?.mergeQuery?"mergeQuery":"query"]:{_method:"DELETE",...e?.query??e?.mergeQuery??{}}}),method:"post"});m.form=B;const I={edit:l,update:i,destroy:m},oe=p({__name:"DialogClose",props:{asChild:{type:Boolean},as:{}},setup(e){const d=e;return(o,s)=>(f(),b(t(U),g({"data-slot":"dialog-close"},d),{default:r(()=>[$(o.$slots,"default")]),_:3},16))}}),le=p({__name:"DialogFooter",props:{class:{}},setup(e){const d=e;return(o,s)=>(f(),h("div",{"data-slot":"dialog-footer",class:A(t(W)("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",d.class))},[$(o.$slots,"default")],2))}}),de=p({__name:"DialogTrigger",props:{asChild:{type:Boolean},as:{}},setup(e){const d=e;return(o,s)=>(f(),b(t(re),g({"data-slot":"dialog-trigger"},d),{default:r(()=>[$(o.$slots,"default")]),_:3},16))}}),ne={class:"space-y-6"},ue={class:"space-y-4 rounded-lg border border-red-100 bg-red-50 p-4 dark:border-red-200/10 dark:bg-red-700/10"},ie={class:"grid gap-2"},me=p({__name:"DeleteUser",setup(e){const d=N(null);return(o,s)=>(f(),h("div",ne,[a(Q,{title:"Delete account",description:"Delete your account and all of its resources"}),u("div",ue,[s[7]||(s[7]=u("div",{class:"relative space-y-0.5 text-red-600 dark:text-red-100"},[u("p",{class:"font-medium"},"Warning"),u("p",{class:"text-sm"}," Please proceed with caution, this cannot be undone. ")],-1)),a(t(ee),null,{default:r(()=>[a(t(de),{"as-child":""},{default:r(()=>[a(t(v),{variant:"destructive","data-test":"delete-user-button"},{default:r(()=>[...s[1]||(s[1]=[c("Delete account",-1)])]),_:1})]),_:1}),a(t(K),null,{default:r(()=>[a(t(P),g(t(I).destroy.form(),{"reset-on-success":"",onError:s[0]||(s[0]=()=>d.value?.$el?.focus()),options:{preserveScroll:!0},class:"space-y-6"}),{default:r(({errors:y,processing:n,reset:_,clearErrors:w})=>[a(t(X),{class:"space-y-3"},{default:r(()=>[a(t(Y),null,{default:r(()=>[...s[2]||(s[2]=[c("Are you sure you want to delete your account?",-1)])]),_:1}),a(t(Z),null,{default:r(()=>[...s[3]||(s[3]=[c(" Once your account is deleted, all of its resources and data will also be permanently deleted. Please enter your password to confirm you would like to permanently delete your account. ",-1)])]),_:1})]),_:1}),u("div",ie,[a(t(C),{for:"password",class:"sr-only"},{default:r(()=>[...s[4]||(s[4]=[c("Password",-1)])]),_:1}),a(t(k),{id:"password",type:"password",name:"password",ref_key:"passwordInput",ref:d,placeholder:"Password"},null,512),a(x,{message:y.password},null,8,["message"])]),a(t(le),{class:"gap-2"},{default:r(()=>[a(t(oe),{"as-child":""},{default:r(()=>[a(t(v),{variant:"secondary",onClick:()=>{w(),_()}},{default:r(()=>[...s[5]||(s[5]=[c(" Cancel ",-1)])]),_:1},8,["onClick"])]),_:2},1024),a(t(v),{type:"submit",variant:"destructive",disabled:n,"data-test":"confirm-delete-user-button"},{default:r(()=>[...s[6]||(s[6]=[c(" Delete account ",-1)])]),_:1},8,["disabled"])]),_:2},1024)]),_:1},16)]),_:1})]),_:1})])]))}}),ce={class:"flex flex-col space-y-6"},fe={class:"grid gap-2"},pe={class:"grid gap-2"},_e={key:0},ge={key:0,class:"mt-2 text-sm font-medium text-green-600"},ye={class:"flex items-center gap-4"},ve={class:"text-sm text-neutral-600"},Ve=p({__name:"Profile",props:{mustVerifyEmail:{type:Boolean},status:{}},setup(e){const d=[{title:"Profile settings",href:z().url}],s=S().props.auth.user;return(y,n)=>(f(),b(G,{breadcrumbs:d},{default:r(()=>[a(t(j),{title:"Profile settings"}),a(J,null,{default:r(()=>[u("div",ce,[a(Q,{title:"Profile information",description:"Update your name and email address"}),a(t(P),g(t(I).update.form(),{class:"space-y-6"}),{default:r(({errors:_,processing:w,recentlySuccessful:F})=>[u("div",fe,[a(t(C),{for:"name"},{default:r(()=>[...n[0]||(n[0]=[c("Name",-1)])]),_:1}),a(t(k),{id:"name",class:"mt-1 block w-full",name:"name","default-value":t(s).name,required:"",autocomplete:"name",placeholder:"Full name"},null,8,["default-value"]),a(x,{class:"mt-2",message:_.name},null,8,["message"])]),u("div",pe,[a(t(C),{for:"email"},{default:r(()=>[...n[1]||(n[1]=[c("Email address",-1)])]),_:1}),a(t(k),{id:"email",type:"email",class:"mt-1 block w-full",name:"email","default-value":t(s).email,required:"",autocomplete:"username",placeholder:"Email address"},null,8,["default-value"]),a(x,{class:"mt-2",message:_.email},null,8,["message"])]),e.mustVerifyEmail&&!t(s).email_verified_at?(f(),h("div",_e,[e.status==="verification-link-sent"?(f(),h("div",ge," A new verification link has been sent to your email address. ")):E("",!0)])):E("",!0),u("div",ye,[a(t(v),{disabled:w,"data-test":"update-profile-button"},{default:r(()=>[...n[2]||(n[2]=[c("Save",-1)])]),_:1},8,["disabled"]),a(H,{"enter-active-class":"transition ease-in-out","enter-from-class":"opacity-0","leave-active-class":"transition ease-in-out","leave-to-class":"opacity-0"},{default:r(()=>[L(u("p",ve," Saved. ",512),[[O,F]])]),_:2},1024)])]),_:1},16)]),a(me)]),_:1})]),_:1}))}});export{Ve as default};
