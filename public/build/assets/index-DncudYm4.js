import{a as _,b,_ as x}from"./AppLayout.vue_vue_type_script_setup_true_lang-BxnW7pDE.js";import{d as v}from"./index-DUMdsY2H.js";import{d as y,r as u,p as B,c as P,w as l,b as n,e as t,u as r,h as k,j as C,k as E,l as g,f as p,o as f,m as S}from"./app-C1gjP-sn.js";import{W as N}from"./style-B6TQ_5ut.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-lqOkEa73.js";import"./useForwardExpose-BdW8TFuC.js";import"./VisuallyHidden-COE-oCfJ.js";import"./RovingFocusGroup-CNXrAHiD.js";import"./useArrowNavigation-C6Y-ieo6.js";import"./createLucideIcon-DiNYG7n8.js";const R={class:"py-12"},$={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},z={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},V={class:"p-6 text-gray-900"},j={class:"flex justify-between items-center mb-6"},A={key:0,class:"text-center py-4"},D={class:"flex items-center gap-2"},I=["onClick"],U=y({__name:"index",setup(O){const h=[{title:"Dashboard",href:v().url},{title:"Buildings",href:_().url}],m=[{field:"id",title:"ID",sort:!0},{field:"name",title:"Name",sort:!0},{field:"house_owner_name",title:"House Owner",sort:!0},{field:"address",title:"Address",sort:!0},{field:"actions",title:"Actions",sort:!1}],c=u([]),a=u(!1),o=u({total:0,per_page:10,current_page:1,last_page:1,from:0,to:0}),d=async(i=1)=>{a.value=!0;try{const s=await(await fetch(`/getbuildings?page=${i}`)).json();c.value=s.data,o.value=s.pagination}catch(e){console.error("Error fetching buildings:",e)}finally{a.value=!1}},w=i=>{confirm("Are you sure you want to delete this building?")&&S.delete(`/buildings/${i.id}`,{onSuccess:()=>{d()},onError:e=>{console.error("Error deleting building:",e)}})};return B(()=>{d()}),(i,e)=>(f(),P(x,{breadcrumbs:h},{default:l(()=>[n(r(k),{title:"Buildings"}),t("div",R,[t("div",$,[t("div",z,[t("div",V,[t("div",j,[e[2]||(e[2]=t("h1",{class:"text-2xl font-bold text-gray-900"},"Buildings",-1)),n(r(g),{href:r(b)().url,class:"bg-indigo-600 hover:bg-indigo-700 text-white px-4 py-2 rounded-md transition-colors"},{default:l(()=>[...e[1]||(e[1]=[p(" Create Building ",-1)])]),_:1},8,["href"])]),a.value?(f(),C("div",A," Loading buildings... ")):E("",!0),n(r(N),{rows:c.value,columns:m,loading:a.value,sortable:!0,searchable:!0,pageSize:o.value.per_page,pageSizeOptions:[10,20,50,100],showPageSize:!0,showPageNumber:!0,showPageInfo:!0,showSearch:!0,showEntries:!0,showPagination:!0,showRefresh:!0,showExport:!0,showImport:!1,showColumnToggle:!0,showRowSelect:!0,showRowExpand:!1,totalRows:o.value.total,currentPage:o.value.current_page,lastPage:o.value.last_page,onPageChange:e[0]||(e[0]=s=>d(s))},{actions:l(s=>[t("div",D,[n(r(g),{href:`/buildings/${s.value.id}/edit`,class:"bg-blue-600 hover:bg-blue-700 text-white px-3 py-1 rounded text-sm transition-colors"},{default:l(()=>[...e[3]||(e[3]=[p("Edit",-1)])]),_:1},8,["href"]),t("button",{class:"bg-red-600 hover:bg-red-700 text-white px-3 py-1 rounded text-sm transition-colors",onClick:T=>w(s.value)},"Delete",8,I)])]),_:1},8,["rows","loading","pageSize","totalRows","currentPage","lastPage"])])])])])]),_:1}))}});export{U as default};
