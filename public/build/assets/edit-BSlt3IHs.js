import{d as V,q as F,r as g,p as S,c as C,w as f,b as _,e,u as m,h as E,l as N,f as U,g as D,i as c,j as l,k as p,n as v,v as x,o as a,t as n,F as M,s as j,x as O,m as T}from"./app-C1gjP-sn.js";import{a as h,_ as $}from"./AppLayout.vue_vue_type_script_setup_true_lang-BxnW7pDE.js";import{d as q}from"./index-DUMdsY2H.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-lqOkEa73.js";import"./useForwardExpose-BdW8TFuC.js";import"./VisuallyHidden-COE-oCfJ.js";import"./RovingFocusGroup-CNXrAHiD.js";import"./useArrowNavigation-C6Y-ieo6.js";import"./createLucideIcon-DiNYG7n8.js";const z={class:"py-12"},A={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},H={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},I={class:"p-6 text-gray-900"},L={class:"flex justify-between items-center mb-6"},P={class:"space-y-4"},R={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},G={key:0,class:"mt-1 text-sm text-red-600"},J=["value"],K={key:0,class:"mt-1 text-sm text-red-600"},Q={key:0,class:"mt-1 text-sm text-red-600"},W={class:"flex justify-end space-x-3 pt-6 border-t"},X=["disabled"],le=V({__name:"edit",setup(Y){const b=F(),r=b.props.building,w=b.props.houseOwners||[],y=[{title:"Dashboard",href:q().url},{title:"Buildings",href:h().url},{title:"Edit Building",href:"#"}],t=g({name:"",house_owner_id:null,address:""}),o=g({}),i=g(!1);S(()=>{t.value.name=r.name||"",t.value.house_owner_id=r.house_owner_id||null,t.value.address=r.address||""});const k=async()=>{i.value=!0,o.value={};try{const u={name:t.value.name,house_owner_id:t.value.house_owner_id,address:t.value.address};T.put(`/buildings/${r.id}`,u,{onSuccess:()=>{},onError:s=>{o.value=s},onFinish:()=>{i.value=!1}})}catch(u){console.error("Form submission error:",u),i.value=!1}},B=()=>{t.value.name=r.name||"",t.value.house_owner_id=r.house_owner_id||null,t.value.address=r.address||"",o.value={}};return(u,s)=>(a(),C($,{breadcrumbs:y},{default:f(()=>[_(m(E),{title:"Edit Building"}),e("div",z,[e("div",A,[e("div",H,[e("div",I,[e("div",L,[s[4]||(s[4]=e("h1",{class:"text-2xl font-bold text-gray-900"},"Edit Building",-1)),_(m(N),{href:m(h)().url,class:"bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded-md transition-colors"},{default:f(()=>[...s[3]||(s[3]=[U(" Back ",-1)])]),_:1},8,["href"])]),e("form",{onSubmit:D(k,["prevent"]),class:"space-y-6"},[e("div",P,[s[9]||(s[9]=e("h3",{class:"text-lg font-medium text-gray-900"},"Building Information",-1)),e("div",R,[e("div",null,[s[5]||(s[5]=e("label",{for:"name",class:"block text-sm font-medium text-gray-700"},"Building Name *",-1)),c(e("input",{type:"text",id:"name","onUpdate:modelValue":s[0]||(s[0]=d=>t.value.name=d),class:v(["mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",{"border-red-500":o.value.name}])},null,2),[[x,t.value.name]]),o.value.name?(a(),l("p",G,n(o.value.name),1)):p("",!0)]),e("div",null,[s[7]||(s[7]=e("label",{for:"house_owner_id",class:"block text-sm font-medium text-gray-700"},"House Owner *",-1)),c(e("select",{id:"house_owner_id","onUpdate:modelValue":s[1]||(s[1]=d=>t.value.house_owner_id=d),class:v(["mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",{"border-red-500":o.value.house_owner_id}])},[s[6]||(s[6]=e("option",{value:""},"Select a house owner",-1)),(a(!0),l(M,null,j(m(w),d=>(a(),l("option",{key:d.id,value:d.id},n(d.name),9,J))),128))],2),[[O,t.value.house_owner_id]]),o.value.house_owner_id?(a(),l("p",K,n(o.value.house_owner_id),1)):p("",!0)])]),e("div",null,[s[8]||(s[8]=e("label",{for:"address",class:"block text-sm font-medium text-gray-700"},"Address",-1)),c(e("input",{type:"text",id:"address","onUpdate:modelValue":s[2]||(s[2]=d=>t.value.address=d),class:v(["mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",{"border-red-500":o.value.address}])},null,2),[[x,t.value.address]]),o.value.address?(a(),l("p",Q,n(o.value.address),1)):p("",!0)])]),e("div",W,[e("button",{type:"button",onClick:B,class:"bg-gray-300 hover:bg-gray-400 text-gray-800 px-4 py-2 rounded-md transition-colors"}," Reset "),e("button",{type:"submit",disabled:i.value,class:"bg-indigo-600 hover:bg-indigo-700 disabled:bg-indigo-400 text-white px-4 py-2 rounded-md transition-colors"},n(i.value?"Updating...":"Update Building"),9,X)])],32)])])])])]),_:1}))}});export{le as default};
