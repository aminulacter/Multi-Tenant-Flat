import{_ as _e,a as we}from"./Layout.vue_vue_type_script_setup_true_lang-D1EW53ll.js";import{h as xe,C as ke,j as Ce,k as $e,_ as Fe}from"./AppLayout.vue_vue_type_script_setup_true_lang-BxnW7pDE.js";import{d as E,y as U,c as b,u as t,w as n,b as r,f as m,t as D,e as a,j as u,F as T,s as V,o,D as L,n as B,r as q,p as Se,k as qe,P as Ee,I as J,J as W,N as ce,S as Te,U as je,z as Me,M as Qe,h as Ae,K as Re,L as De}from"./app-C1gjP-sn.js";import{c as I,_ as Q,P as Oe,b as ze}from"./AppLogoIcon.vue_vue_type_script_setup_true_lang-lqOkEa73.js";import{q as j}from"./index-DUMdsY2H.js";import{l as Ve,_ as Le,a as Be,b as Ie}from"./index-Cc31dCqm.js";import{c as A}from"./createLucideIcon-DiNYG7n8.js";import{_ as He}from"./InputError.vue_vue_type_script_setup_true_lang-nbs7Oh3x.js";import{d as Pe,a as Ke,b as Ne,c as Ue,_ as Je}from"./DialogTitle.vue_vue_type_script_setup_true_lang-CdhUjg7Z.js";import{c as We,r as Ge}from"./useForwardExpose-BdW8TFuC.js";import{L as ie}from"./loader-circle-tN3U5aqT.js";import{C as Xe}from"./check-QTsLjXut.js";import"./index-D29CaElT.js";import"./index-8z4_NH2p.js";import"./VisuallyHidden-COE-oCfJ.js";import"./RovingFocusGroup-CNXrAHiD.js";import"./useArrowNavigation-C6Y-ieo6.js";import"./VisuallyHiddenInput-C9sdJ5u4.js";/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ye=A("CopyIcon",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ze=A("EyeOffIcon",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const et=A("EyeIcon",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tt=A("LockKeyholeIcon",[["circle",{cx:"12",cy:"16",r:"1",key:"1au0dj"}],["rect",{x:"3",y:"10",width:"18",height:"12",rx:"2",key:"6s8ecr"}],["path",{d:"M7 10V7a5 5 0 0 1 10 0v3",key:"1pqi11"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rt=A("RefreshCwIcon",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ot=A("ScanLineIcon",[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}],["path",{d:"M7 12h10",key:"b7w52i"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const at=A("ShieldBanIcon",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m4.243 5.21 14.39 12.472",key:"1c9a7c"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ue=A("ShieldCheckIcon",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),st={class:"list-inside list-disc text-sm"},fe=E({__name:"AlertError",props:{errors:{},title:{default:"Something went wrong."}},setup(e){const s=e,i=U(()=>Array.from(new Set(s.errors)));return(d,c)=>(o(),b(t(xe),{variant:"destructive"},{default:n(()=>[r(t(ke),{class:"size-4"}),r(t(Ce),null,{default:n(()=>[m(D(e.title),1)]),_:1}),r(t($e),null,{default:n(()=>[a("ul",st,[(o(!0),u(T,null,V(i.value,($,l)=>(o(),u("li",{key:l},D($),1))),128))])]),_:1})]),_:1}))}}),nt=E({__name:"Card",props:{class:{}},setup(e){const s=e;return(i,d)=>(o(),u("div",{"data-slot":"card",class:B(t(I)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",s.class))},[L(i.$slots,"default")],2))}}),lt=E({__name:"CardContent",props:{class:{}},setup(e){const s=e;return(i,d)=>(o(),u("div",{"data-slot":"card-content",class:B(t(I)("px-6",s.class))},[L(i.$slots,"default")],2))}}),it=E({__name:"CardDescription",props:{class:{}},setup(e){const s=e;return(i,d)=>(o(),u("p",{"data-slot":"card-description",class:B(t(I)("text-muted-foreground text-sm",s.class))},[L(i.$slots,"default")],2))}}),ut=E({__name:"CardHeader",props:{class:{}},setup(e){const s=e;return(i,d)=>(o(),u("div",{"data-slot":"card-header",class:B(t(I)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",s.class))},[L(i.$slots,"default")],2))}}),dt=E({__name:"CardTitle",props:{class:{}},setup(e){const s=e;return(i,d)=>(o(),u("h3",{"data-slot":"card-title",class:B(t(I)("leading-none font-semibold",s.class))},[L(i.$slots,"default")],2))}}),_=e=>({url:_.url(e),method:"get"});_.definition={methods:["get","head"],url:"/two-factor-challenge"};_.url=e=>_.definition.url+j(e);_.get=e=>({url:_.url(e),method:"get"});_.head=e=>({url:_.url(e),method:"head"});const Z=e=>({action:_.url(e),method:"get"});Z.get=e=>({action:_.url(e),method:"get"});Z.head=e=>({action:_.url({[e?.mergeQuery?"mergeQuery":"query"]:{_method:"HEAD",...e?.query??e?.mergeQuery??{}}}),method:"get"});_.form=Z;const w=e=>({url:w.url(e),method:"post"});w.definition={methods:["post"],url:"/user/two-factor-authentication"};w.url=e=>w.definition.url+j(e);w.post=e=>({url:w.url(e),method:"post"});const me=e=>({action:w.url(e),method:"post"});me.post=e=>({action:w.url(e),method:"post"});w.form=me;const x=e=>({url:x.url(e),method:"post"});x.definition={methods:["post"],url:"/user/confirmed-two-factor-authentication"};x.url=e=>x.definition.url+j(e);x.post=e=>({url:x.url(e),method:"post"});const pe=e=>({action:x.url(e),method:"post"});pe.post=e=>({action:x.url(e),method:"post"});x.form=pe;const k=e=>({url:k.url(e),method:"delete"});k.definition={methods:["delete"],url:"/user/two-factor-authentication"};k.url=e=>k.definition.url+j(e);k.delete=e=>({url:k.url(e),method:"delete"});const he=e=>({action:k.url({[e?.mergeQuery?"mergeQuery":"query"]:{_method:"DELETE",...e?.query??e?.mergeQuery??{}}}),method:"post"});he.delete=e=>({action:k.url({[e?.mergeQuery?"mergeQuery":"query"]:{_method:"DELETE",...e?.query??e?.mergeQuery??{}}}),method:"post"});k.form=he;const h=e=>({url:h.url(e),method:"get"});h.definition={methods:["get","head"],url:"/user/two-factor-qr-code"};h.url=e=>h.definition.url+j(e);h.get=e=>({url:h.url(e),method:"get"});h.head=e=>({url:h.url(e),method:"head"});const ee=e=>({action:h.url(e),method:"get"});ee.get=e=>({action:h.url(e),method:"get"});ee.head=e=>({action:h.url({[e?.mergeQuery?"mergeQuery":"query"]:{_method:"HEAD",...e?.query??e?.mergeQuery??{}}}),method:"get"});h.form=ee;const y=e=>({url:y.url(e),method:"get"});y.definition={methods:["get","head"],url:"/user/two-factor-secret-key"};y.url=e=>y.definition.url+j(e);y.get=e=>({url:y.url(e),method:"get"});y.head=e=>({url:y.url(e),method:"head"});const te=e=>({action:y.url(e),method:"get"});te.get=e=>({action:y.url(e),method:"get"});te.head=e=>({action:y.url({[e?.mergeQuery?"mergeQuery":"query"]:{_method:"HEAD",...e?.query??e?.mergeQuery??{}}}),method:"get"});y.form=te;const v=e=>({url:v.url(e),method:"get"});v.definition={methods:["get","head"],url:"/user/two-factor-recovery-codes"};v.url=e=>v.definition.url+j(e);v.get=e=>({url:v.url(e),method:"get"});v.head=e=>({url:v.url(e),method:"head"});const re=e=>({action:v.url(e),method:"get"});re.get=e=>({action:v.url(e),method:"get"});re.head=e=>({action:v.url({[e?.mergeQuery?"mergeQuery":"query"]:{_method:"HEAD",...e?.query??e?.mergeQuery??{}}}),method:"get"});v.form=re;const C=e=>({url:C.url(e),method:"post"});C.definition={methods:["post"],url:"/user/two-factor-recovery-codes"};C.url=e=>C.definition.url+j(e);C.post=e=>({url:C.url(e),method:"post"});const ye=e=>({action:C.url(e),method:"post"});ye.post=e=>({action:C.url(e),method:"post"});C.form=ye;const g=e=>({url:g.url(e),method:"get"});g.definition={methods:["get","head"],url:"/settings/two-factor"};g.url=e=>g.definition.url+j(e);g.get=e=>({url:g.url(e),method:"get"});g.head=e=>({url:g.url(e),method:"head"});const oe=e=>({action:g.url(e),method:"get"});oe.get=e=>({action:g.url(e),method:"get"});oe.head=e=>({action:g.url({[e?.mergeQuery?"mergeQuery":"query"]:{_method:"HEAD",...e?.query??e?.mergeQuery??{}}}),method:"get"});g.form=oe;Object.assign(_,Ve),Object.assign(w,w),Object.assign(x,x),Object.assign(k,k),Object.assign(h,h),Object.assign(y,y),Object.assign(v,v),Object.assign(C,C),Object.assign(g,g);const Y=async e=>{const s=await fetch(e,{headers:{Accept:"application/json"}});if(!s.ok)throw new Error(`Failed to fetch: ${s.status}`);return s.json()},P=q([]),O=q(null),z=q(null),N=q([]),ct=U(()=>z.value!==null&&O.value!==null),ae=()=>{const e=async()=>{try{const{svg:p}=await Y(h.url());z.value=p}catch{P.value.push("Failed to fetch QR code"),z.value=null}},s=async()=>{try{const{secretKey:p}=await Y(y.url());O.value=p}catch{P.value.push("Failed to fetch a setup key"),O.value=null}},i=()=>{O.value=null,z.value=null,d()},d=()=>{P.value=[]};return{qrCodeSvg:z,manualSetupKey:O,recoveryCodesList:N,errors:P,hasSetupData:ct,clearSetupData:i,clearErrors:d,clearTwoFactorAuthData:()=>{i(),d(),N.value=[]},fetchQrCode:e,fetchSetupKey:s,fetchSetupData:async()=>{try{d(),await Promise.all([e(),s()])}catch{z.value=null,O.value=null}},fetchRecoveryCodes:async()=>{try{d(),N.value=await Y(v.url())}catch{P.value.push("Failed to fetch recovery codes"),N.value=[]}}}},ft={class:"flex flex-col gap-3 select-none sm:flex-row sm:items-center sm:justify-between"},mt={key:0,class:"mt-6"},pt={key:1,class:"mt-3 space-y-3"},ht={key:0,class:"space-y-2"},yt=E({__name:"TwoFactorRecoveryCodes",setup(e){const{recoveryCodesList:s,fetchRecoveryCodes:i,errors:d}=ae(),c=q(!1),$=q(null),l=async()=>{!c.value&&!s.value.length&&await i(),c.value=!c.value,c.value&&(await ce(),$.value?.scrollIntoView({behavior:"smooth"}))};return Se(async()=>{s.value.length||await i()}),(p,F)=>(o(),b(t(nt),{class:"w-full"},{default:n(()=>[r(t(ut),null,{default:n(()=>[r(t(dt),{class:"flex gap-3"},{default:n(()=>[r(t(tt),{class:"size-4"}),F[0]||(F[0]=m("2FA Recovery Codes ",-1))]),_:1}),r(t(it),null,{default:n(()=>[...F[1]||(F[1]=[m(" Recovery codes let you regain access if you lose your 2FA device. Store them in a secure password manager. ",-1)])]),_:1})]),_:1}),r(t(lt),null,{default:n(()=>[a("div",ft,[r(t(Q),{onClick:l,class:"w-fit"},{default:n(()=>[(o(),b(Ee(c.value?t(Ze):t(et)),{class:"size-4"})),m(" "+D(c.value?"Hide":"View")+" Recovery Codes ",1)]),_:1}),c.value&&t(s).length?(o(),b(t(J),W({key:0},t(C).form(),{method:"post",options:{preserveScroll:!0},onSuccess:t(i)}),{default:n(({processing:M})=>[r(t(Q),{variant:"secondary",type:"submit",disabled:M},{default:n(()=>[r(t(rt)),F[2]||(F[2]=m(" Regenerate Codes ",-1))]),_:1},8,["disabled"])]),_:1},16,["onSuccess"])):qe("",!0)]),a("div",{class:B(["relative overflow-hidden transition-all duration-300",c.value?"h-auto opacity-100":"h-0 opacity-0"])},[t(d)?.length?(o(),u("div",mt,[r(fe,{errors:t(d)},null,8,["errors"])])):(o(),u("div",pt,[a("div",{ref_key:"recoveryCodeSectionRef",ref:$,class:"grid gap-1 rounded-lg bg-muted p-4 font-mono text-sm"},[t(s).length?(o(!0),u(T,{key:1},V(t(s),(M,R)=>(o(),u("div",{key:R},D(M),1))),128)):(o(),u("div",ht,[(o(),u(T,null,V(8,M=>a("div",{key:M,class:"h-4 animate-pulse rounded bg-muted-foreground/20"})),64))]))],512),F[3]||(F[3]=a("p",{class:"text-xs text-muted-foreground select-none"},[m(" Each recovery code can be used once to access your account and will be removed after use. If you need more, click "),a("span",{class:"font-bold"},"Regenerate Codes"),m(" above. ")],-1))]))],2)]),_:1})]),_:1}))}}),vt={class:"mb-3 w-auto rounded-full border border-border bg-card p-0.5 shadow-sm"},gt={class:"relative overflow-hidden rounded-full border border-border bg-muted p-2.5"},bt={class:"absolute inset-0 grid grid-cols-5 opacity-50"},_t={class:"absolute inset-0 grid grid-rows-5 opacity-50"},wt={class:"relative flex w-auto flex-col items-center justify-center space-y-5"},xt={class:"relative mx-auto flex max-w-md items-center overflow-hidden"},kt={class:"relative mx-auto aspect-square w-64 overflow-hidden rounded-lg border border-border"},Ct={key:0,class:"absolute inset-0 z-10 flex aspect-square h-auto w-full animate-pulse items-center justify-center bg-background"},$t={key:1,class:"relative z-10 overflow-hidden border p-5"},Ft=["innerHTML"],St={class:"flex w-full items-center space-x-5"},qt={class:"flex w-full items-center justify-center space-x-2"},Et={class:"flex w-full items-stretch overflow-hidden rounded-xl border border-border"},Tt={key:0,class:"flex h-full w-full items-center justify-center bg-muted p-3"},jt=["value"],Mt=["value"],Qt={class:"flex w-full flex-col items-center justify-center space-y-3 py-2"},At={class:"flex w-full items-center space-x-5"},Rt=E({__name:"TwoFactorSetupModal",props:Te({requiresConfirmation:{type:Boolean},twoFactorEnabled:{type:Boolean}},{isOpen:{type:Boolean},isOpenModifiers:{}}),emits:["update:isOpen"],setup(e){const s=e,i=je(e,"isOpen"),{copy:d,copied:c}=We(),{qrCodeSvg:$,manualSetupKey:l,clearSetupData:p,fetchSetupData:F,errors:M}=ae(),R=q(!1),H=q([]),se=U(()=>H.value.join("")),ne=q(null),G=U(()=>s.twoFactorEnabled?{title:"Two-Factor Authentication Enabled",description:"Two-factor authentication is now enabled. Scan the QR code or enter the setup key in your authenticator app.",buttonText:"Close"}:R.value?{title:"Verify Authentication Code",description:"Enter the 6-digit code from your authenticator app",buttonText:"Continue"}:{title:"Enable Two-Factor Authentication",description:"To finish enabling two-factor authentication, scan the QR code or enter the setup key in your authenticator app",buttonText:"Continue"}),ve=()=>{if(s.requiresConfirmation){R.value=!0,ce(()=>{ne.value?.querySelector("input")?.focus()});return}p(),i.value=!1},ge=()=>{s.twoFactorEnabled&&p(),R.value=!1,H.value=[]};return Me(()=>i.value,async le=>{if(!le){ge();return}$.value||await F()}),(le,f)=>(o(),b(t(Pe),{open:i.value,"onUpdate:open":f[5]||(f[5]=S=>i.value=S)},{default:n(()=>[r(t(Je),{class:"sm:max-w-md"},{default:n(()=>[r(t(Ke),{class:"flex items-center justify-center"},{default:n(()=>[a("div",vt,[a("div",gt,[a("div",bt,[(o(),u(T,null,V(5,S=>a("div",{key:`col-${S}`,class:"border-r border-border last:border-r-0"})),64))]),a("div",_t,[(o(),u(T,null,V(5,S=>a("div",{key:`row-${S}`,class:"border-b border-border last:border-b-0"})),64))]),r(t(ot),{class:"relative z-20 size-6 text-foreground"})])]),r(t(Ne),null,{default:n(()=>[m(D(G.value.title),1)]),_:1}),r(t(Ue),{class:"text-center"},{default:n(()=>[m(D(G.value.description),1)]),_:1})]),_:1}),a("div",wt,[R.value?(o(),b(t(J),W({key:1},t(x).form(),{"reset-on-error":"",onFinish:f[3]||(f[3]=S=>H.value=[]),onSuccess:f[4]||(f[4]=S=>i.value=!1)}),{default:n(({errors:S,processing:X})=>[a("input",{type:"hidden",name:"code",value:se.value},null,8,Mt),a("div",{ref_key:"pinInputContainerRef",ref:ne,class:"relative w-full space-y-3"},[a("div",Qt,[r(t(Le),{id:"otp",placeholder:"○",modelValue:H.value,"onUpdate:modelValue":f[1]||(f[1]=K=>H.value=K),type:"number",otp:""},{default:n(()=>[r(t(Be),null,{default:n(()=>[(o(),u(T,null,V(6,(K,be)=>r(t(Ie),{autofocus:"",key:K,index:be,disabled:X},null,8,["index","disabled"])),64))]),_:2},1024)]),_:2},1032,["modelValue"]),r(He,{message:S?.confirmTwoFactorAuthentication?.code},null,8,["message"])]),a("div",At,[r(t(Q),{type:"button",variant:"outline",class:"w-auto flex-1",onClick:f[2]||(f[2]=K=>R.value=!1),disabled:X},{default:n(()=>[...f[7]||(f[7]=[m(" Back ",-1)])]),_:1},8,["disabled"]),r(t(Q),{type:"submit",class:"w-auto flex-1",disabled:X||se.value.length<6},{default:n(()=>[...f[8]||(f[8]=[m(" Confirm ",-1)])]),_:1},8,["disabled"])])],512)]),_:1},16)):(o(),u(T,{key:0},[t(M)?.length?(o(),b(fe,{key:0,errors:t(M)},null,8,["errors"])):(o(),u(T,{key:1},[a("div",xt,[a("div",kt,[t($)?(o(),u("div",$t,[a("div",{innerHTML:t($),class:"flex aspect-square size-full items-center justify-center"},null,8,Ft)])):(o(),u("div",Ct,[r(t(ie),{class:"size-6 animate-spin"})]))])]),a("div",St,[r(t(Q),{class:"w-full",onClick:ve},{default:n(()=>[m(D(G.value.buttonText),1)]),_:1})]),f[6]||(f[6]=a("div",{class:"relative flex w-full items-center justify-center"},[a("div",{class:"absolute inset-0 top-1/2 h-px w-full bg-border"}),a("span",{class:"relative bg-card px-2 py-1"},"or, enter the code manually")],-1)),a("div",qt,[a("div",Et,[t(l)?(o(),u(T,{key:1},[a("input",{type:"text",readonly:"",value:t(l),class:"h-full w-full bg-background p-3 text-foreground"},null,8,jt),a("button",{onClick:f[0]||(f[0]=S=>t(d)(t(l)||"")),class:"relative block h-auto border-l border-border px-3 hover:bg-muted"},[t(c)?(o(),b(t(Xe),{key:0,class:"w-4 text-green-500"})):(o(),b(t(Ye),{key:1,class:"w-4"}))])],64)):(o(),u("div",Tt,[r(t(ie),{class:"size-4 animate-spin"})]))])])],64))],64))])]),_:1})]),_:1},8,["open"]))}}),de=E({__name:"Badge",props:{asChild:{type:Boolean},as:{},variant:{},class:{}},setup(e){const s=e,i=Ge(s,"class");return(d,c)=>(o(),b(t(Oe),W({"data-slot":"badge",class:t(I)(t(Dt)({variant:e.variant}),s.class)},t(i)),{default:n(()=>[L(d.$slots,"default")]),_:3},16,["class"]))}}),Dt=ze("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}}),Ot={class:"space-y-6"},zt={key:0,class:"flex flex-col items-start justify-start space-y-4"},Vt={key:1,class:"flex flex-col items-start justify-start space-y-4"},Lt={class:"relative inline"},sr=E({__name:"TwoFactor",props:{requiresConfirmation:{type:Boolean,default:!1},twoFactorEnabled:{type:Boolean,default:!1}},setup(e){const s=[{title:"Two-Factor Authentication",href:g.url()}],{hasSetupData:i,clearTwoFactorAuthData:d}=ae(),c=q(!1);return Qe(()=>{d()}),($,l)=>(o(),b(Fe,{breadcrumbs:s},{default:n(()=>[r(t(Ae),{title:"Two-Factor Authentication"}),r(_e,null,{default:n(()=>[a("div",Ot,[r(we,{title:"Two-Factor Authentication",description:"Manage your two-factor authentication settings"}),e.twoFactorEnabled?(o(),u("div",Vt,[r(t(de),{variant:"default"},{default:n(()=>[...l[7]||(l[7]=[m("Enabled",-1)])]),_:1}),l[9]||(l[9]=a("p",{class:"text-muted-foreground"}," With two-factor authentication enabled, you will be prompted for a secure, random pin during login, which you can retrieve from the TOTP-supported application on your phone. ",-1)),r(yt),a("div",Lt,[r(t(J),Re(De(t(k).form())),{default:n(({processing:p})=>[r(t(Q),{variant:"destructive",type:"submit",disabled:p},{default:n(()=>[r(t(at)),l[8]||(l[8]=m(" Disable 2FA ",-1))]),_:1},8,["disabled"])]),_:1},16)])])):(o(),u("div",zt,[r(t(de),{variant:"destructive"},{default:n(()=>[...l[3]||(l[3]=[m("Disabled",-1)])]),_:1}),l[6]||(l[6]=a("p",{class:"text-muted-foreground"}," When you enable two-factor authentication, you will be prompted for a secure pin during login. This pin can be retrieved from a TOTP-supported application on your phone. ",-1)),a("div",null,[t(i)?(o(),b(t(Q),{key:0,onClick:l[0]||(l[0]=p=>c.value=!0)},{default:n(()=>[r(t(ue)),l[4]||(l[4]=m("Continue Setup ",-1))]),_:1})):(o(),b(t(J),W({key:1},t(w).form(),{onSuccess:l[1]||(l[1]=p=>c.value=!0)}),{default:n(({processing:p})=>[r(t(Q),{type:"submit",disabled:p},{default:n(()=>[r(t(ue)),l[5]||(l[5]=m("Enable 2FA",-1))]),_:1},8,["disabled"])]),_:1},16))])])),r(Rt,{isOpen:c.value,"onUpdate:isOpen":l[2]||(l[2]=p=>c.value=p),requiresConfirmation:e.requiresConfirmation,twoFactorEnabled:e.twoFactorEnabled},null,8,["isOpen","requiresConfirmation","twoFactorEnabled"])])]),_:1})]),_:1}))}});export{sr as default};
